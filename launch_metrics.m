% Script generated by Brainstorm (04-Mar-2024)

% Input files
sFiles = {...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1546.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1053.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1824.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1551.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1055.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1825.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1555.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1057.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1826.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1600.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1059.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1827.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1604.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1061.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1828.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1608.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1063.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1829.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1613.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1065.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1830.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1617.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1067.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1831.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1621.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1069.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1832.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1626.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1071.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1833.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1630.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1073.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1834.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1634.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1075.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1835.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1639.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1077.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1836.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1643.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1079.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1837.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1647.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1081.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1838.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1652.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1083.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1839.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1656.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1085.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1840.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1701.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1100.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1841.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1705.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1102.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1842.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMEM_|_smooth=0.6_DWT(j2__3__4__5__6__7__8)_|_WL685nm_240417_1709.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_ground_truth_simul_240417_1104.mat', ...
    'Subject01/simulation_oscilations_20cm_N2/results_NIRS_wMNE_sources_-_WL685nm_240426_1843.mat'};
RawFiles = {...
    '/Users/edelaire1/Documents/Project/wMEM-fnirs/data/metrics/metrics_simul_20cm.txt'};

% Start a new report
bst_report('Start', sFiles);
n_files = length(sFiles)/3;

for iSimul = 1:3:length(sFiles)
    idx_file  = [iSimul, iSimul+1, iSimul+2];
    
    bst_process('CallProcess', 'process_nst_wMEM_metrics', sFiles(idx_file), [], ...
        'maxDist',  40, ...
        'textFile', {RawFiles{1}, 'txt'});

end

% Save and display report
ReportFile = bst_report('Save', sFiles);
bst_report('Open', ReportFile);
% bst_report('Export', ReportFile, ExportDir);
% bst_report('Email', ReportFile, username, to, subject, isFullReport);

% Delete temporary files
% gui_brainstorm('EmptyTempFolder');

